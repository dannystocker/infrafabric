# IF.API - InfraFabric API Integrations

**Version:** 1.0.0
**Generated:** 2025-12-03
**Status:** Production Ready

---

## Overview

Consolidated API integrations from 38+ development branches. This directory contains all production-ready integration code organized by domain.

## Directory Structure

```
if.api/
├── broadcast/              # Video/Audio Streaming APIs
│   ├── vmix/              # vMix HTTP API (RTMP/SRT streaming)
│   ├── obs/               # OBS WebSocket API
│   ├── bus-adapters/      # IF.bus production adapters
│   └── ndi/               # NDI (planned)
│
├── communication/          # Real-time Communication APIs
│   ├── sip/               # SIP/VoIP (7 servers supported)
│   │   └── adapters/      # Asterisk, OpenSIPs, Kamailio, etc.
│   ├── webrtc/            # WebRTC P2P mesh + signaling
│   └── h323/              # H.323 (planned)
│
├── llm/                    # AI/LLM Provider APIs
│   ├── claude/            # Anthropic Claude API
│   ├── gemini/            # Google Gemini API
│   └── deepseek/          # DeepSeek API
│
├── data/                   # Data Infrastructure APIs
│   ├── redis/             # Redis Cloud + swarm coordination
│   └── file-cache/        # File-based fallback
│
├── security/              # Security APIs
│   └── yologuard/         # IF.yologuard secret detection
│
├── cloud/                 # Cloud Platform APIs
│   ├── stackcp/           # StackCP hosting
│   └── oci/               # Oracle Cloud (planned)
│
├── defense/               # Defense/C-UAS APIs (roadmap)
│   └── cuas/              # Counter-UAS 4-layer architecture
│                          # (Detect, Track, Identify, Counter)
│
└── messaging/             # Notification APIs (research)
    ├── sms-voice/         # Twilio, Plivo, Bandwidth
    ├── email/             # SendGrid, Postmark, Mailgun
    └── team/              # Slack, Discord
```

## Quick Start

### Broadcast - vMix Streaming

```python
from if_api.broadcast.vmix.vmix_streaming import VMixStreamingController

controller = VMixStreamingController(vmix_host='localhost', vmix_port=8088)
controller.start_rtmp_stream(
    rtmp_url="rtmp://live.twitch.tv/app/",
    stream_key="your_stream_key"
)
```

### Communication - SIP Adapter

```python
from if_api.communication.sip.adapters.asterisk_adapter import AsteriskAdapter

adapter = AsteriskAdapter()
adapter.connect(host='192.168.1.10', port=5038, auth_config={
    'username': 'admin',
    'password': 'secret'
})
call_id = adapter.make_call(from_number='+1234567890', to_number='+0987654321')
```

### Communication - WebRTC Mesh

```typescript
import { IFAgentWebRTC } from './if.api/communication/webrtc/webrtc-agent-mesh';

const agent = new IFAgentWebRTC({
  agentId: 'agent-001',
  signalingServerUrl: 'wss://signaling.example.com:8443'
});
await agent.connect();
```

### Data - Redis Swarm Coordinator

```python
from if_api.data.redis.redis_swarm_coordinator import RedisSwarmCoordinator

coordinator = RedisSwarmCoordinator(redis_url='redis://localhost:6379')
coordinator.register_agent('haiku-worker-001')
task = coordinator.claim_task()
```

### Security - Yologuard

```python
from if_api.security.yologuard.IF_yologuard_v3 import YoloGuard

guard = YoloGuard()
findings = guard.scan_content(content)
# Returns detected secrets with confidence scores
```

## Integration Status

| Category | Integration | Files | Tests | Status |
|----------|-------------|-------|-------|--------|
| Broadcast | vMix | 3 | Yes | Production |
| Broadcast | OBS | 4 | Yes | Production |
| Broadcast | Bus Adapters | 4 | Yes | Production |
| Communication | SIP (7 servers) | 8 | Yes | Production |
| Communication | WebRTC | 5 | Yes | Production |
| LLM | Claude | 3 | Yes | Production |
| LLM | Gemini | 1 | Yes | Production |
| Data | Redis | 3 | Yes | Production |
| Security | Yologuard | 1 | Yes | Production |

## Dependencies

### Python
```
redis>=4.0.0
aiohttp>=3.8.0
httpx>=0.24.0
requests>=2.28.0
google-generativeai>=0.3.0
anthropic>=0.5.0
```

### Node.js/TypeScript
```json
{
  "@noble/ed25519": "^2.0.0",
  "ws": "^8.14.0",
  "typescript": "^5.0.0"
}
```

## Source Branches

| Branch | Content |
|--------|---------|
| `claude/webrtc-final-push-*` | WebRTC complete stack |
| `claude/if-bus-sip-adapters-*` | SIP adapters |
| `claude/cloud-providers-*` | vMix, OBS |
| `yologuard/v3-publish` | Security engine |
| `master` | Swarm architecture, Redis |

## Documentation

- [Full Inventory](../IF-API-INTEGRATIONS-INVENTORY.md)
- [WebRTC Production Runbook](./communication/webrtc/docs/WEBRTC-PROD-RUNBOOK.md)
- [OpenSIPs Architecture](./communication/webrtc/docs/OPENSIPS_WEBRTC_ARCHITECTURE.md)

---

*Generated by IF.optimise multi-Haiku swarm - 2025-12-03*
