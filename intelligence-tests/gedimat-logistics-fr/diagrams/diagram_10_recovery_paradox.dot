digraph recovery_paradox {
    size="6.61,2.5";
    dpi=300;
    rankdir=LR;
    nodesep=0.3;
    ranksep=0.5;
    margin=0.1;

    node [fontname="Arial", style=filled, penwidth=1.5];
    edge [fontname="Arial", fontsize=9, arrowsize=1.2];

    // Scenario A: No Incidents
    scenario_a_label [shape=box, label="SCENARIO A\nNo Incidents",
                      fontsize=11, fontweight=bold, fillcolor="#E6F3FF",
                      width=1.5, height=0.6];

    bar_a [shape=box, label="80%\nLoyalty", fontsize=12, fontweight=bold,
           fillcolor="#4A90E2", fontcolor="white", width=1.2, height=1.4];

    // Scenario B: Well-Resolved Incidents
    scenario_b_label [shape=box, label="SCENARIO B\nWell-Resolved\nIncidents",
                      fontsize=11, fontweight=bold, fillcolor="#E6FFE6",
                      width=1.5, height=0.6];

    bar_b [shape=box, label="90%\nLoyalty", fontsize=12, fontweight=bold,
           fillcolor="#2ECC71", fontcolor="white", width=1.2, height=1.575];

    // Paradox Arrow and Result
    paradox_label [shape=box, label="RECOVERY\nPARADOX", fontsize=11,
                   fontweight=bold, fillcolor="#FFE6E6",
                   width=1.3, height=0.6, fontcolor="#C0392B"];

    formula_box [shape=box, label="IRL-1 Score\n\n90 ÷ 80 = 112.5%\n\n✓ Paradox Valid\n(>100% threshold)",
                 fontsize=10, fillcolor="#F9F9F9", fontcolor="#333333",
                 width=1.8, height=1.2, style="filled,rounded"];

    // Baseline indicator
    baseline [shape=plaintext, label="Baseline", fontsize=9, fontcolor="#666666"];

    // Connections
    scenario_a_label -> bar_a [style=invis];
    scenario_b_label -> bar_b [style=invis];
    bar_a -> paradox_label [label="Comparison", fontsize=9, arrowhead=normal];
    bar_b -> paradox_label [label="Effect", fontsize=9, arrowhead=normal, fontcolor="#2ECC71"];
    paradox_label -> formula_box [label="Calculate", fontsize=9, fontcolor="#E74C3C"];

    // Legend area
    legend [shape=plaintext, label="Key Insight:\nWell-handled service recovery\nincreases loyalty more than\nabsence of incidents",
            fontsize=9, fontcolor="#333333"];
}
